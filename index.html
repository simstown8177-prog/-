<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>í˜¼í•© ë°°ë‹¬ ìˆœë§ˆì§„ ê³„ì‚°ê¸° (ì™„ì„±íŒ)</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    h2 { margin-top: 26px; }
    label { display: block; margin-top: 10px; }
    input { padding: 6px; width: 160px; }
    button { margin-top: 20px; padding: 12px 26px; font-size: 15px; }
    .result { margin-top: 22px; font-size: 16px; line-height: 1.7; }
    .highlight { font-size: 20px; font-weight: bold; color: green; }
  </style>
</head>
<body>

<h2>ğŸ• í˜¼í•© ë°°ë‹¬ ìˆœë§ˆì§„ ê³„ì‚°ê¸°</h2>

<h2>â‘  ì›” íŒë§¤ëŸ‰</h2>
<label>
  ì›” ì´ íŒë§¤ íŒìˆ˜:
  <input type="number" id="totalOrders" value="600" min="1">
</label>

<label>
  ê°€ê²Œë°°ë‹¬ ë¹„ì¤‘ (%):
  <input type="number" id="storeRatio" value="50" min="0" max="100">
</label>

<h2>â‘¡ ê°€ê²Œë°°ë‹¬ ì¡°ê±´</h2>
<label>
  í‰ê·  í¸ë„ ê±°ë¦¬ (km):
  <input type="number" id="distance" step="0.1" value="2.25" min="0.1">
</label>

<label>
  ì–´ë ¤ìš´ ì§€ì—­ í‰ê·  ì¶”ê°€ìš”ê¸ˆ (ì›):
  <input type="number" id="hardFee" value="0" min="0">
</label>

<h2>â‘¢ ì›” ê³ ì •ë¹„</h2>
<label>
  ì›”ì„¸ (ì›):
  <input type="number" id="rent" value="880000" min="0">
</label>

<label>
  ê´€ë¦¬Â·ìˆ˜ë„ ë“± ê³ ì •ë¹„ (ì›):
  <input type="number" id="fixedCost" value="550000" min="0">
</label>

<button onclick="calculate()">ê³„ì‚°í•˜ê¸°</button>

<div class="result" id="output"></div>

<script>
function calculate() {
  // ğŸ”’ í™•ì • ìƒìˆ˜ (ë„¤ ê¸°ì¤€ ê³ ì •)
  const PLATFORM_MARGIN = 2460;   // í”Œë«í¼ë°°ë‹¬ í•œíŒ ìˆœë§ˆì§„
  const PLATFORM_DELIVERY = 3730; // í”Œë«í¼ ë°°ë‹¬ë¹„
  const COST_PER_KM = 120;        // kmë‹¹ ì‹¤ì œ ì‹¤ë¹„

  // ì…ë ¥ê°’
  const totalOrders = Math.max(1, parseInt(totalOrdersEl.value));
  const storeRatioInput = Math.min(100, Math.max(0, parseFloat(storeRatioEl.value)));
  const storeRatio = storeRatioInput / 100;

  const oneWayKm = Math.max(0.1, parseFloat(distanceEl.value));
  const hardFee = Math.max(0, parseInt(hardFeeEl.value));

  const rent = Math.max(0, parseInt(rentEl.value));
  const fixedCost = Math.max(0, parseInt(fixedCostEl.value));

  // íŒìˆ˜ ë¶„ë¦¬
  const storeOrders = totalOrders * storeRatio;
  const platformOrders = totalOrders - storeOrders;

  // ğŸšš ê³ ê° ë°°ë‹¬ë¹„ ê³„ì‚°
  let deliveryFee = 500;
  if (oneWayKm > 1) {
    deliveryFee += Math.round((oneWayKm - 1) * 1000);
  }
  deliveryFee += hardFee;

  // ê°€ê²Œë°°ë‹¬ ì‹¤ë¹„
  const realDeliveryCost = oneWayKm * 2 * COST_PER_KM;

  // ğŸ• ê°€ê²Œë°°ë‹¬ í•œíŒ ìˆœë§ˆì§„ (ì •ì œëœ ê³µì‹)
  const storeMargin =
    PLATFORM_MARGIN +
    PLATFORM_DELIVERY +
    deliveryFee -
    realDeliveryCost;

  // ğŸ’° ì›” ì´ì´ìµ
  const storeProfit = storeOrders * storeMargin;
  const platformProfit = platformOrders * PLATFORM_MARGIN;
  const totalProfit = storeProfit + platformProfit;

  // ğŸ“Š í‰ê·  ë§ˆì§„
  const avgMargin = totalProfit / totalOrders;

  // ğŸ§® ì†ìµë¶„ê¸°
  const monthlyFixed = rent + fixedCost;
  const breakEvenMonthly = Math.ceil(monthlyFixed / avgMargin);
  const breakEvenDaily = Math.ceil(breakEvenMonthly / 30);

  document.getElementById("output").innerHTML = `
    â–¶ ê°€ê²Œë°°ë‹¬ í•œíŒ ìˆœë§ˆì§„: ${storeMargin.toFixed(0)}ì›<br>
    â–¶ í”Œë«í¼ë°°ë‹¬ í•œíŒ ìˆœë§ˆì§„: ${PLATFORM_MARGIN.toLocaleString()}ì›<br><br>

    â–¶ ê°€ê²Œë°°ë‹¬ íŒìˆ˜: ${storeOrders.toFixed(0)}íŒ<br>
    â–¶ í”Œë«í¼ë°°ë‹¬ íŒìˆ˜: ${platformOrders.toFixed(0)}íŒ<br><br>

    â–¶ <span class="highlight">í‰ê·  í•œíŒ ë§ˆì§„: ${avgMargin.toFixed(0)}ì›</span><br>
    â–¶ ì›” ì´ì´ìµ: ${totalProfit.toLocaleString()}ì›<br><br>

    â–¶ ì›” ê³ ì •ë¹„: ${monthlyFixed.toLocaleString()}ì›<br>
    â–¶ ì›” ì†ìµë¶„ê¸° íŒìˆ˜: ${breakEvenMonthly.toLocaleString()}íŒ<br>
    â–¶ ì¼ í‰ê·  í•„ìš” íŒìˆ˜: ${breakEvenDaily}íŒ
  `;
}

// DOM ìºì‹±
const totalOrdersEl = document.getElementById("totalOrders");
const storeRatioEl = document.getElementById("storeRatio");
const distanceEl = document.getElementById("distance");
const hardFeeEl = document.getElementById("hardFee");
const rentEl = document.getElementById("rent");
const fixedCostEl = document.getElementById("fixedCost");
</script>

</body>
</html>
